---
title: 'React Flow 12 Release'
htmlTitle: 'React Flow 12 Release'
intro: 'The scoop on our latest release with Server side rendering, computing flows, dark mode, better developer experience with TSDoc, and more'
date: 15 March 2024
authors: ['moritz', 'john']
tags: ['react-flow']
image: '/img/blog/v11-reactflow-header.png'
---

import { BlogPostLayout } from '@/layouts/blog-post-with-frontmatter';
import ExampleViewer from '@/components/example-viewer';
import { Bleed } from 'nextra-theme-docs';
import { Embed, Text } from 'xy-shared';

<BlogPostLayout>

Since v11, we‚Äôve grown our core team to five people, reached nearly 20k stars on github, rebranded to xyflow, launched Svelte Flow, and kept all of our office plants alive. And now, we've prepared a hefty React Flow release for y'all üéÅ It comes with a few much-asked for major features, as well as tons of bug/performance clean-up as a result of combing through every. line. of. code. while developing Svelte Flow.

This release also brings the final piece of the ‚Äúxyflow‚Äù puzzle, as our package name changes from `ReactFlow` to `@xyflow/react`. We pinky promise that we won‚Äôt change our package name again anytime soon!

This has been in beta since January and we‚Äôve been tending to bugs since then, so we‚Äôre confident in sending this out now as a stable release. Shout-out to the brave souls who have already tried it out and submitted your issues, we appreciate you! üôèüèª

If you want to skip the details and just migrate your project to v12, head over to our [migration guide](https://reactflow.dev/learn/troubleshooting/migrate-to-12).

### TL;DR

<div style={{ marginTop: -10 }} />

React Flow 12 is here, and the main features are

<div style={{ marginTop: -10 }} />

- Server side rendering support
- Hooks and helpers for computing flows
- Dark mode
- Better DX via TSDoc

# Major features

The new version comes with a bunch of features. Here are the main ones:

<div style={{ marginTop: -30 }} />

## 1. Support for server side rendering

(iFrame, with some nodes inside, that have some text that say "turn off javascript in your browser, but I'll stay bc I'm rendered server-side - M)

(description) this example was rendered on the server-side, so you can \_**_ or oyu can't_ \_\_\_**... if you turn of your js in devftools... this wil work, and the other exmaples won't

React is heading towards server side rendering, with tools like [Nextjs](https://nextjs.org/), [Astro](https://astro.build/), and [waku](https://waku.gg/). We‚Äôve gotten asked to do server side rendering more than a [couple](https://github.com/xyflow/xyflow/issues/3168) of [times](https://github.com/xyflow/xyflow/issues/3384) due to difficulties using React Flow with these tools. For example, with React Flow v11 Astro just renders a React Flow diagram as blank by default- that‚Äôs no good.

With v12, you can now:

- Display static HTML diagrams for docs sites (even if the client has no JS)
- Dynamically generate opengraph images that appear as embeds when sharing a link to your flow
- Pre-render flows for crawlable content

(embed tweet)https://twitter.com/alecchernicki/status/1761477031001301118

[üîó Server side rendering guide](http://localhost:3002/learn/advanced-use/ssr-ssg-configuration)

## 2. Computing flows - hooks and helpers

<Bleed>
  <ExampleViewer
    codePath="api-flows/ComputingFlow"
    editorHeight={400}
    applyStyles={false}
    showEditor={false}
    additionalFiles={[
      'NumberInput.js',
      'ColorPreview.js',
      'Lightness.js',
      'Log.js',
      'style.css',
    ]}
  />
</Bleed>

One of the most difficult things about using React Flow is state management, even though we know it's really a difficult thing about React Flow.

In v12 we added helpers to simplify getting data from connected nodes, updating node data, and managing the data between nodes. It‚Äôs nothing like fully-fledged state management libraries like Zustand, but maybe this can help folks who just need to do some simple data processing on the client-side to get up-and-running faster with their React Flow apps.

Check out our [computing flows guide](https://reactflow.dev/learn/advanced-use/computing-flows)

## 3. Dark mode

<Bleed>
  <ExampleViewer
    codePath="api-flows/DarkMode"
    editorHeight={400}
    applyStyles={false}
    showEditor={false}
    isTypescript
  />
</Bleed>

React Flow finally comes with a built-in dark mode üåö For this, you can now pass a `colorMode` prop, to toggle between "light", "dark", or "system". Under the hood, React Flow just adds a class name to the wrapper, but we had to do a bunch of changes to make this possible. Now all of the default styles are using CSS variables, so you can easily build your own themes based on that.

[Dark mode example with source](https://reactflow.dev/examples/styling/dark-mode/)

## 4. Better Dev Experience with TSDoc

_Before and after image or example goes here_

We used TSDoc to create a better dev experience in your IDE to get more info about what a function or component does. We‚Äôve been told our DX is pretty good already, but we‚Äôre always happy to make it even better üíÖüèª

**Bonus feature: Performance improvements**

We worked with [Ivan Akulov](https://3perf.com/) to improve the performance of React Flow, and we received some of the most beautiful, detailed, well-explained PRs we've ever seen, and each one has made an impact on this release. We highly recommend taking a peek at some of Ivan's brilliant work:

- [Add performance tests for selecting, dragging, and remounting](https://github.com/xyflow/xyflow/pull/3685)
- [Initial costs: Batch initial store updates together + more](https://github.com/xyflow/xyflow/pull/3677)
- [Set nodeDragThreshold to 1](https://github.com/xyflow/xyflow/pull/3667)
- [Don‚Äôt rerender NodeRenderer and MiniMapNodes unless necessary](https://github.com/xyflow/xyflow/pull/3668)

# Even more features!

Besides the new main features listed above, we added some other things that we wanted to include for a long time.

- **[`useConnection` hook](/api-reference/hooks/use-connection):** With this hook you can access the ongoing connection. For example, you can use it for colorizing handles styling a custom connection line based on the current start / end handles.
- **Controlled `viewport`:** This is an advanced feature. Possible use cases are to animate the viewport or round the transform for lower res screens for example. This features brings two new props: [`viewport`](/api-reference/react-flow#viewport) and [`onViewportChange`](/api-reference/react-flow#on-viewport-change).
- **[`ViewportPortal`](/api-reference/components/viewport-portal) component:** This makes it possible to render elements in the viewport without the need to implement a custom node.
- **[`onDelete`](/api-reference/react-flow#on-delete) handler**: We added a combined handler for onDeleteNodes and onDeleteEdges to make it easier to react to deletions.
- **[`onBeforeDelete`](/api-reference/react-flow#on-before-delete) handler**: With this handler you can prevent/ manage deletions.
- **[`isValidConnection`](/api-reference/react-flow#is-valid-connection) prop:** This makes it possible to implement one validation function for all connections. It also gets called for programmatically added edges.
- **Background component**: add [`patternClassName`](/api-reference/components/background#pattern-class-name) prop to be able to style the background pattern by using a class name. This is useful if you want to style the background pattern with Tailwind for example.
- **`onMove` callback** gets triggered for library-invoked viewport updates (like fitView or zoom-in)
- **`deleteElements`** now returns deleted nodes and deleted edges
- add **`origin` attribute** for nodes
- add **`selectable` attribute** for edges
- Edges do not mount/unmount when their z-index change

# Bye!

And that‚Äôs it for React Flow 12, thanks for sticking around and using React Flow üåª If you have any questions or feedback, please reach out :)

</BlogPostLayout>
